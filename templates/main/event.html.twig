{% extends 'base.html.twig' %}

{# cette page est la page de evenement, elle doit afficher le détail de evenement  #}

{% block title %}{{ event.name }}{% endblock %}

{% block body %}

{# affichage des flash message si il en a #}

{# read and display all flash messages #}
{% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="flash-{{ label }}">
            {{ message }}
        </div>
    {% endfor %}

    {% else %}
    <span> Pas de flash message ( juste pour le test ) </span>
{% endfor %}

<h1>{{ event.name }}</h1>

<p>{{ event.description }}</p>





<span>Nombre de place : {{ event.limitParticipant }}</span></br>
<span>Nombre d'inscrit : {{ event.numberParticipant }}</span></br>

{% if event.userIsRegistered(app.user) %}
<span>Vous etes inscrit à l'event</span>
{% else %}
<span>Vous n'est pas inscrit à l'event</span>
{% endif %}

{% if event.userIsConfirmed(app.user) %}
<span>Votre inscription est confirmé</span>
{% else %}
<span>Vous etes dans la liste d'attente</span>
{% endif %}

<hr>

{% if event.userIsRegistered(app.user) %}

<a href="{{ path('cancel_registration_event' , {event: event.id}) }}" >se désincrire</a>
{% else %}
<a href="{{ path('registration_event', {event: event.id}) }}" >S'inscrire</a><br/>
{% endif %}

<footer>
    <a href="{{ path('home') }}">Retour à la liste d'event</a>
</footer>

{% endblock %}
